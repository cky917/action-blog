(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{201:function(n,e,r){"use strict";r.r(e);var a=r(2),t=Object(a.a)({},(function(){var n=this,e=n.$createElement,r=n._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[r("hr"),n._v(" "),r("h3",{attrs:{id:"命名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#命名"}},[n._v("#")]),n._v(" 命名")]),n._v(" "),r("p",[n._v("代码是给人(别人或者1个星期后的 自己)阅读和修改的")]),n._v(" "),r("p",[n._v("給变量和函数一个简单易懂的名字")]),n._v(" "),r("p",[n._v("可维护性++")]),n._v(" "),r("p",[n._v("** 以功能命名,而不是表现  isOverSeven() × VS isLegalAge() √ **")]),n._v(" "),r("pre",[r("code",[n._v("// 不好的命名\naaaa  \nx1  \nf  \nhengxian  \ncreateNewUserIfTheInputIsValida\nte\n")])]),n._v(" "),r("p",[n._v("避免全局变量")]),n._v(" "),r("blockquote",[r("p",[n._v("我们无法拥有代码的控制权")])]),n._v(" "),r("ul",[r("li",[r("p",[n._v("不易维护")])]),n._v(" "),r("li",[r("p",[n._v("牵一发而动全身")])]),n._v(" "),r("li",[r("p",[n._v("易被覆盖,修改,而你还不知道")]),n._v(" "),r("p",[n._v("// Bad\nvar currentColor;\nvar colorMap = {\nred: '红色',\ngreen: '绿色',\nyellow: '黄色'\n};")]),n._v(" "),r("p",[n._v("function init() {\ncurrentColor = 'red';\n}")]),n._v(" "),r("p",[n._v("// Common\n(function () {\nvar currentColor;")]),n._v(" "),r("pre",[r("code",[n._v("  var colorMap = {\n      red: '红色',\n      green: '绿色',\n      yellow: '黄色'\n  };\n  \n  function init () {\n      currentColor = 'red';\n  }\n")])]),n._v(" "),r("p",[n._v("})();")]),n._v(" "),r("p",[n._v("// Good\nvar colorManager = function () { \nvar currentColor; \nvar colorMap  =  {          \nred: '红色',          \ngreen: '绿色',          \nyellow: '黄色' \n}; ")]),n._v(" "),r("pre",[r("code",[n._v("  return  { \n      init: function () {                   \n          currentColor  =  'red'          \n      } \n  } \n")])]),n._v(" "),r("p",[n._v("}();")])])]),n._v(" "),r("hr"),n._v(" "),r("h3",{attrs:{id:"正确的注释"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#正确的注释"}},[n._v("#")]),n._v(" 正确的注释")]),n._v(" "),r("p",[n._v("注释也是代码的一部分")]),n._v(" "),r("p",[n._v("错误的注释,相比没有注释,更可怕")]),n._v(" "),r("p",[n._v("介绍背景、介绍使用方式、介绍注意事项,不要重复代码的意思")]),n._v(" "),r("pre",[r("code",[n._v("//  已登陆的用户,有  name  和  age  两个属性  \nvar loginedUser = {           \n    name:  '',           \n    age:  10  \n};\n/*  \n    *  统一登录方法  \n    *  在需要登录的地方调用       \n    *  如果已经登陆,会立即执行回调       \n    *  否则,会显示登录窗口,登录完成后执行回 调  \n    *  todo:登录窗口的  UI  优化  \n*/  \nfunction login(cb) {  \n}\n")])]),n._v(" "),r("hr"),n._v(" "),r("h3",{attrs:{id:"简短标记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#简短标记"}},[n._v("#")]),n._v(" 简短标记")]),n._v(" "),r("p",[n._v("简短标记让代码更简单易读")]),n._v(" "),r("pre",[r("code",[n._v("// Bad\nvar user = new Object;\nuser.name = 'bajiefe';\nuser.age = 20;\n\n// Good\nvar user = {\n    name: 'bajiefe',\n    age: 20\n};\n\n// Bad\nvar userList = new Array;\nuserList[0] = 'bajiefe';\nuserList[1] = 'bajierd';\n\n// Good\nvar userList = ['bajiefe', 'bajierd'];\n\n\n// Bad\nvar age;\nif(val) {\n    age = val;\n} else {\n    age = 10;\n}\n\n// Good\nvar age = val || 10;\n\n\n// Bad\nvar direction;\n\nif(val) {\n    direction = 1;\n} else {\n    direction = -1;\n}\n\n// Good\nvar direction = val ? 1 : -1;\n")])]),n._v(" "),r("hr"),n._v(" "),r("h3",{attrs:{id:"减少dom-操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#减少dom-操作"}},[n._v("#")]),n._v(" 减少DOM 操作")]),n._v(" "),r("p",[n._v("通过 className 来控制 DOM 样式")]),n._v(" "),r("pre",[r("code",[n._v("// Bad\nuserInput.style.cssText = 'color: red; border: 1px  solid  red;'  \n\n// Good\nuserInput.className  =  ‘error;’\n")])]),n._v(" "),r("p",[n._v("dom 节点修改好后再插入 dom  tree")]),n._v(" "),r("pre",[r("code",[n._v("// Bad\nfunction addAnchor(parentElement, anchorText, anchorClass) {\n    var element = document.createElement('a');\n    parentElement.appendChild(element);\n    element.innerHTML = anchorText;\n    element.className = anchorClass;\n}\n\n// Good\nvar element = document.createElement('a');\nelement.innerHTML = anchorText;\nelement.className = anchorClass;\nparentElement.appendChild(element);\n")])]),n._v(" "),r("p",[n._v("通过文档片段创建 DOM")]),n._v(" "),r("pre",[r("code",[n._v("document.createDocumentFragment();\n\nfunction addAnchors(element) {\n    var anchor;\n    var fragment = document.createDocumentFragment();\n\n    for(var i = 0; i < 10; i++) {\n        anchor = document.createElement('a');\n        anchor.innerHTML = 'test';\n        fragment.appendChild(anchor);\n    }\n\n    element.appendChild(fragment);\n}\n")])]),n._v(" "),r("p",[n._v("通过事件代理绑定事件")]),n._v(" "),r("hr"),n._v(" "),r("h3",{attrs:{id:"自动分号插入"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自动分号插入"}},[n._v("#")]),n._v(" 自动分号插入")]),n._v(" "),r("p",[n._v("当不清楚写不写分号时,写上")]),n._v(" "),r("pre",[r("code",[n._v("var tester = function() {\n\n}\n\n(function() {\n    console.log(tester);\n})()\n\nvar a = 123\n")])]),n._v(" "),r("hr"),n._v(" "),r("h3",{attrs:{id:"debug"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#debug"}},[n._v("#")]),n._v(" Debug")]),n._v(" "),r("p",[n._v("Google 开发者工具")])])}),[],!1,null,null,null);e.default=t.exports}}]);